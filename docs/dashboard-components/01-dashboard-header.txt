# Dashboard Header Component Specification

## Component Purpose
The Dashboard Header serves as the main control center for job execution and provides real-time status information. It's the primary interface for starting jobs and monitoring system status.

## Layout Structure
```
┌─────────────────────────────────────────────────────────┐
│ [Start New Job] [Status Badge] [Job Info] [Settings]  │
└─────────────────────────────────────────────────────────┘
```

## Core Components

### 1. Start New Job Button
- **Size**: Large primary button (48px height)
- **Color**: Primary Blue (#3B82F6) when enabled, Gray when disabled
- **State**: Disabled when job is running
- **Action**: Opens job configuration modal
- **Backend Integration**: Calls `job:start` with configuration

### 2. Status Indicator
- **Ready State**: Green badge with "Ready" text
- **Running State**: Blue badge with "Job Running" text and spinner
- **Error State**: Red badge with "Error" text
- **Real-time Updates**: Updates via IPC events

### 3. Active Job Information
- **Display**: "Job #123 - Step 3/5 - 60% Complete"
- **Visibility**: Only shown when job is running
- **Updates**: Real-time progress updates
- **Backend Integration**: Uses `job-execution:get` for current job data

### 4. Job Statistics Display
- **Content**: Total jobs, success rate, average duration
- **Source**: `job-execution:statistics` backend method
- **Format**: "Total: 45 | Success: 92% | Avg: 2.3min"
- **Updates**: Refresh on job completion

### 5. Settings Access Button
- **Icon**: Gear/cog icon
- **Action**: Quick access to configuration panel
- **Integration**: Links to existing Settings UI

### 6. Security Status Indicator
- **Size**: Small indicator (16px)
- **Colors**: Green (secure), Yellow (fallback), Red (insecure)
- **Source**: `get-security-status` backend method
- **Tooltip**: Shows security level details

## Visual Design

### Typography
- **Primary Font**: System default (San Francisco on macOS, Segoe UI on Windows)
- **Heading**: 20px, font-weight: 600
- **Body Text**: 14px, line-height: 1.5
- **Caption**: 12px, color: Gray-500

### Spacing
- **Container Padding**: 24px on all sides
- **Component Spacing**: 16px between elements
- **Button Spacing**: 12px between buttons

### Colors
- **Primary Blue**: #3B82F6 (Blue-500) - Main actions
- **Success Green**: #10B981 (Emerald-500) - Ready status
- **Warning Orange**: #F59E0B (Amber-500) - Running status
- **Error Red**: #EF4444 (Red-500) - Error status
- **Neutral Gray**: #6B7280 (Gray-500) - Disabled state

## Interactive Elements

### Button States
- **Enabled**: Full opacity, hover effects, click feedback
- **Disabled**: 50% opacity, no hover effects, clear messaging
- **Loading**: Spinner animation, disabled state

### Status Badge Animation
- **Ready**: Static green badge
- **Running**: Pulsing blue badge with spinner
- **Error**: Static red badge with error icon

### Hover Effects
- **Buttons**: Scale 1.02, shadow increase
- **Status**: Slight elevation on hover
- **Settings**: Icon rotation on hover

## Backend Integration

### Real-time Updates
- **Job Status**: Poll every 500ms for status changes
- **Progress**: Real-time progress updates via IPC
- **Statistics**: Refresh on job completion
- **Security**: Update on security status change

### Error Handling
- **Job Start Failed**: Clear error message with retry option
- **Network Error**: Offline indicator with retry button
- **Backend Unavailable**: Graceful degradation with cached data

## Accessibility

### Keyboard Navigation
- **Tab Order**: Start Job → Status → Settings
- **Enter/Space**: Activate buttons
- **Escape**: Close modals

### Screen Reader Support
- **ARIA Labels**: Clear descriptions for all buttons
- **Status Announcements**: Announce status changes
- **Error Messages**: Clear error descriptions

### Focus Management
- **Visible Focus**: Clear focus indicators
- **Logical Order**: Left to right navigation
- **Modal Focus**: Trap focus in configuration modal

## Responsive Design

### Desktop (800px+)
- **Layout**: Horizontal arrangement
- **Button Size**: Full size (48px height)
- **Text**: Full job information display

### Tablet (600px-800px)
- **Layout**: Compressed horizontal
- **Button Size**: Medium (40px height)
- **Text**: Abbreviated job information

### Mobile (<600px)
- **Layout**: Stacked vertical
- **Button Size**: Large (56px height) for touch
- **Text**: Essential information only

## Performance Considerations

### Loading States
- **Initial Load**: Skeleton loader for statistics
- **Job Start**: Loading spinner on button
- **Status Update**: Smooth transitions

### Memory Management
- **Event Listeners**: Cleanup on unmount
- **Timers**: Clear intervals on component unmount
- **State Updates**: Debounced status updates

## Testing Requirements

### Unit Tests
- **Button States**: Enabled/disabled based on job status
- **Status Updates**: Correct badge display for each state
- **Click Handlers**: Proper modal opening and backend calls

### Integration Tests
- **Backend Integration**: Real API calls for job start
- **IPC Communication**: Status update handling
- **Error Scenarios**: Network failure handling

### E2E Tests
- **Complete Workflow**: Start job → monitor → complete
- **Error Recovery**: Failed job start and recovery
- **Responsive Design**: Cross-device functionality
