# Story 1.14: UI Cosmetic Polish & Minor Fixes (Ongoing Small PR Lane)

## Status
Ready to Implement

## Story
As a product owner and end user,
I want incremental cosmetic improvements delivered continuously via small commits,
so that the UI feels consistent, tidy, and professional without risk to functionality.

## Acceptance Criteria
1. Scope limited to non‑functional visual polish unless explicitly approved (no behavior changes).
2. Approved focus areas include:
   - Alignment, spacing, typography, icon sizes, and color consistency
   - Status badge styles and label capitalization
   - Hover/focus states and interactive affordances
   - Microcopy clarity (grammar, punctuation), without changing meaning
3. No layout regressions (visual diff or manual spot check across dashboard, job management, settings, and results views).
4. Commits are small, well‑scoped, and easy to review (< ~150 lines changed where possible).
5. Each commit updates a brief change log entry (what changed, why, before/after screenshot when helpful).
6. Visual changes pass existing unit/E2E tests and eslint/style checks.

## Process
- Intake: PO will provide an ongoing list of small tweaks; maintain a running checklist in this story.
- Execution: Submit small commits continuously; each commit references this story with a checklist item.
- Validation: Reviewer confirms no behavior changes and no layout regressions; merge behind regular safeguards.

## Tasks / Subtasks
- [x] Align 'Add to Retry' blue button size in Failed Image Review modal with Single Job View action buttons.
- [x] Override inherited/global styles via custom class to ensure consistent button sizing in Failed Image Review modal.
- [x] Add Delete button to Image Gallery Single Image modal header; wire to cascading delete (DB + filesystem) via parent handler.
- [x] Keep Image Gallery modal open after delete and navigate to next (or previous if last).
  - [x] Fix type mismatch bug in ID comparisons (String conversion)
  - [x] Implement synchronous modal state updates via flushSync
  - [x] Create separate delete flow to bypass parent refresh
  - [x] Add modal lock mechanism to prevent premature closure
  - [x] Implement deferred background refresh for gallery grid
- [x] Apply same delete navigation behavior to Failed Images Review Single Image Modal.
- [x] Match delete button sizing with Failed Images Review modal (shared class).
- [x] Fix visual flash/zoom reset issue in Failed Images Review Single Image Modal.
  - [x] Eliminate modal unmount/remount cycle during navigation
  - [x] Extract modal to separate container component with React Portal
  - [x] Implement optimistic UI updates to prevent infinite loops on delete
  - [x] Extend auto-navigation behavior to Approve and Add to Retry actions
  - [x] Unified workflow: all three actions (Delete/Approve/Retry) navigate to next image
- [x] Align bulk action button heights in Failed Images Review gallery (Approve/Retry/Delete Selected).
  - [x] Add flex items-center to all three buttons for consistent vertical alignment
  - [x] Increase padding from py-1 to py-2 for better visual balance
- [x] Remove duplicate "Delete Selected" button from Overview tab's Job Progress header.
  - [x] Fix button bleeding through tabs when images selected in Gallery
- [x] Align Export ZIP and Delete Selected button heights in Image Gallery tab with modal action buttons.
  - [x] Update padding from px-3 py-1 to px-4 py-2 for consistency
  - [x] Increase icon size from w-3 h-3 to w-4 h-4 (16px)
  - [x] Replace space-x-1 with gap-2 for better spacing
- [x] Update Processing Settings Modal (Failed Images Review) text for clarity.
  - [x] Update Important Note: "Quality Controlled" instead of "QC"
  - [x] Update helper text for "Retry with Original Settings" (remove "QC,")
  - [x] Update helper text for "Retry with Modified Settings" (remove "QC,")
- [x] Add "Image Control Info" button to Failed Image Review Single Image modal header.
  - [x] Add showHelp state and toggle button
  - [x] Add help popup with viewer controls (Pan, Zoom, Fit, Toolbar)
  - [x] Position between Delete button and navigation arrows
- [x] Add "File Path" field to Failed Image Review modal Details tab.
  - [x] Display after Date field in Generation Details section
  - [x] Show finalImagePath or tempImagePath with monospace font
- [x] Make Image Gallery filter controls responsive for narrow viewports.
  - [x] Add flex-wrap to filter controls container (View, Job, Date, Search, Sort)
  - [x] Add flex-wrap to action buttons container (Select All, Clear, Export, Delete)
  - [x] Change space-x utilities to gap for proper wrapping behavior
- [x] Fix modal layout responsiveness for minimized/default window sizes.
  - [x] Change breakpoint from lg: (1024px) to xl: (1280px) for side-by-side layout
  - [x] Add min-height constraints to image panels (300px)
  - [x] Add min-width constraints to detail panels (384px/400px)
  - [x] Apply conditional border-l only at xl+ breakpoint

## Definition of Done
- [ ] A first batch of small UI polish PRs merged with no regressions.
- [ ] Checklist in this story seeded and trackable for next iterations.
- [ ] Visual consistency improved across at least 3 major surfaces (dashboard, job management, settings, results).
- [ ] Tests and lints remain green.

## Risks
- Small PRs may accumulate unnoticed style drift; keep a brief design token reference and component examples.
- Avoid functional changes unless explicitly approved to reduce regression risk.

## Story Points
2 (ongoing lane)

## Backlog
- (empty; add incoming cosmetic tweaks here, to be promoted into Tasks/Subtasks as executed)

