# Story 1.10: UI Visual Cleanup & Consistency

## Status: Accepted

## Story

As a user and developer,
I want a visually consistent and responsive UI across Dashboard, Job Management, Single Job View, Failed Images Review, and Settings,
so that the application is easier to use, looks professional, and avoids layout glitches across screen sizes.

## Acceptance Criteria

1. Status badges are visually consistent across all relevant views.
   - Colors, shapes, and labels align with the design system.
   - No visual shifts between screens.
2. Dashboard header is responsive without overflow.
   - Actions wrap into a second row under a defined width threshold.
   - Header height accommodates wrapped controls.
3. Job Management search/filter header does not overflow on narrow widths.
4. Single Job View edit uses `FileSelector` for all file fields: `systemPromptFile`, `keywordsFile`, `qualityCheckPromptFile`, `metadataPromptFile`.
5. Input behavior is stable.
   - Numeric inputs do not change on scroll unintentionally.
   - Text input focus remains stable across tabs and modals.
6. Settings Panel fields have uniform widths and consistent helper/error text styling.
   - 'You have unsaved changes' message does not shift primary action buttons.
   - Message is displayed in a fixed-position area or modal that does not affect button layout.
7. Gallery search has improved hinting and empty-state messaging.
8. Single Job View stats show proper spacing/typography and Approved vs QC Failed breakdown.
9. Provide direct navigation from Settings panel to main Dashboard (not only via start page).
10. Replace checkboxes in Single Job View Edit and Failed Images Review Retry with toggels which are same stayle as in Settings pannel
11. Job managment pannel shold show the count of jobs with 'In progress' and 'Pending' stataus
12. Main dashboard shold show Success Rate, Images Generated, Avg Duration metriks too in the header not just Total Jobs statistics
13. In Single Job View 'Failed' (Generation failed) count statistics should be updated and shown
14. On Main Dasboard in Job progres panell Overall Progress (n generations) does not show the right persentage per generation and progress bar is not gettting visually filled correctly
15. On Main Dasboard in Job progres panell Current Generation Progress only getting filled to 20% (Initialization step) and not filling remaining 80% till 100% when Image Generation step is finished
16. On Main Dasboard in Job progres panell in progress steps progress stays only on first 'Initialization' - Image Generation step not getting highligted when in progress. Initialization icon highlight shold switch to 'Image Generation' step icon highlight when job moves to 'Image Generation' step
17. Main Dashboard Job History pannel filters are not working
18. In job items that shown on Main Dashboard in Job History 'success' images count not shown in parenhesis only 'total images' and 'failed' images are shown
19. Failed Images Review interfase is improved and hav more consistent view with overall interface, all controls work properly


## Tasks / Subtasks

- Status badges
  - [ ] Standardize colors, shapes, and labels across Dashboard, Job Management, Single Job View, Failed Images Review.

- Dashboard header responsiveness
  - [ ] Increase header height and allow wrapping of actions to a second row under threshold.

- Job Management header layout
  - [ ] Fix search + filters layout so it does not overflow on narrow widths.

- Single Job View edit parity
  - [ ] Use `FileSelector` for `systemPromptFile`, `keywordsFile`, `qualityCheckPromptFile`, `metadataPromptFile`.

- Inputs behavior
  - [x] Prevent numeric field scroll jumps; ensure stable text input focus across tabs/modals.
  - [ ] Enable Save button onChange and support Enter-to-save (no auto-save).

- Settings panel uniformity
  - [ ] Align field widths; unify helper/error styles.
  - [ ] Ensure 'You have unsaved changes' message does not shift 'Save Settings' and 'Reset to Defaults' buttons (use modal or fixed position area).

- Gallery UX
  - [ ] Improve search hint and empty-state message.

- Single Job View stats layout
  - [ ] Adjust spacing/typography; show Approved vs QC Failed breakdown.

- Navigation improvement
  - [ ] Add direct navigation control to main Dashboard from Settings panel.

- Controls consistency
  - [ ] Replace checkboxes in Single Job View Edit and Failed Images Review Retry with toggels which are same stayle as in Settings pannel

- Main dasboard statistics, progress bars, indicators, filters improvements, control improvements
  - [ ] Main dashboard shold show Success Rate, Images Generated, Avg Duration metriks too in the header not just Total Jobs statistics
  - [ ] On Main Dasboard in Job progres panell Overall Progress (in generations) does not show the right persentage per generation and progress bar is not gettting visually filled correctly
  - [ ] On Main Dasboard in Job progres panell Current Generation Progress only getting filled to 20% (Initialization step) and not filling remaining 80% till 100% when Image Generation step is finished
  - [ ] On Main Dasboard in Job progres panell in progress steps progress stays only on first 'Initialization' - Image Generation step not getting highligted when in progress. Initialization icon highlight shold switch to 'Image Generation' step icon highlight when job moves to 'Image Generation' step
  - [ ] Fix Main Dashboard Job History pannel filters not working
  - [ ] Fix job items that shown on Main Dashboard in Job History 'success' images count not shown in parenhesis only 'total images' and 'failed' images are shown
  - [ ] Make 'Delete Selected' button in the header of Imagge Gallery tab of Main Dashboard which shold apper when several images are selected or select all checkbox is ticked in


- Job managment pannel statistics, progress bars, indicators, filters improvements
  - [ ] Job managment pannel shold show the count of jobs with 'In progress' and 'Pending' stataus


- Single Job View statistics, progress bars, indicators, filters improvements
   - [ ] In Single Job View 'Failed' (Generation failed) count statistics should be updated and shown
   - [ ] Fox Single Job View filters not showing completed vs failed vs pending. Add Pending status to filter dropdown (Pending meands they are in Failed Images Review)
   - [ ] The logs in Logs tab of  Single Job View shold be shown in same format as they shown in 'Logs' panel Main Dashborard
   - [ ] Add vertical scroll bar for the image area in Single Job View 'Images' Tab in Grid Na List view
   - [ ] Make image thubnails a bigger (2 times) in List view in of Single Job View 'Images' Tab
   - [ ] Prevent status badges from splitting to the several rows in List view of Single Job View 'Images' Tab
   - [ ] Make color of the badges in Single Job View adhere to the same status colour codes as the are in other panels and pages 


- Failed imeges review statistics, progress bars, indicators, filters improvements, badges, icons, labels
  -  [ ] Fix filters and search in 'Failed Image Review' page
  -  [ ] Replace all emojis applied to single image card buttons in Failed Image Review page with .svg icons similar with those that are use in Main Dashboard Image Gallery Tab
  - [ ] Add grid view icon and create list view icon and functionality for image gallery in Failed Images Review similar to Main Dashboard Image Gallery Tab view. 
  - [ ] Arrange image into center of left area in Single image view Modal in Failed Images Review similar to Main Dashboard Image Gallery Tab view Single image Gallery modal
  - [ ] Implement same image manipulation controlls in left area of Single image view Modal in Failed Images Review similar to Main Dashboard Image Gallery Tab view Single image Gallery modal
  - [ ] In right area of Single Image View Modal in Failed Images Review make data organized under tabs same way as it is done in Main Dashboard Image Gallery Tab view Single image Gallery modal (NB! Failure analyzis header with failure reason shod still be present under 'Details' tab)
  - [ ] In 'QC Failed' badge on image card in grid view Failed Images Review emoji of triangle with exclamation mark shold be replacd wityh .svg icon in the style of those icons which are on Main Dashboard
  - [ ] Replace 'Failed' text in the badge in Single Image Modal view in Failed Images Review to 'QC Failed' and emoji of triangle with exclamation mark shold be replacd wityh .svg icon in the style of those icons which are on Main Dashboard

- Overal status badges badges consistensy across all interfases
  - [ ] Make shore badges shold be same form, same colour, and having same style .svg icons in them accross all interfaces. The status text shold be eather lowercase or Capitalized

## Dev Notes

- Coordinate with the design tokens used across components to keep badges and toggles consistent.
- Reuse existing `FileSelector` component for file inputs to avoid duplication.
- Consider adding small layout utilities in CSS/Tailwind for common headers.

## Testing Plan

- Visual review across three widths (â‰¥1280px, ~1024px, ~800px).
- Snapshot tests for key components if feasible without brittleness.
- Manual UX checks for inputs: scroll on numeric, focus retention on text fields, and layout stability when unsaved changes appear.

## Risks

- CSS changes may affect unrelated components; mitigate with targeted selectors and component-scoped styles.
- Overuse of snapshot tests can be brittle; prefer functional assertions.

## Change Log

| Date       | Version | Description                                | Author |
|------------|---------|--------------------------------------------|--------|
| 2025-09-18 | 1.0     | Align story to b-mad template; refine ACs | PO     |

## QA Results

To be completed by QA upon completion.